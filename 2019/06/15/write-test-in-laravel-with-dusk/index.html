<!DOCTYPE html>
<html lang=en>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>Viết test với Laravel Dusk | Trần Đình Vĩ - blogs</title>
  <meta name="description" content="1. Mở đầuTất cả chúng ta đều hiểu rằng testing là công việc quan trọng đối với mọi dự án. Nhằm giúp cho các developer có thể thực hiện test ứng dụng dễ dàng hơn thì ở bản Laravel 5.4 cho ra đời Dusk.">
<meta property="og:type" content="article">
<meta property="og:title" content="Viết test với Laravel Dusk">
<meta property="og:url" content="http://yoursite.com/2019/06/15/write-test-in-laravel-with-dusk/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1. Mở đầuTất cả chúng ta đều hiểu rằng testing là công việc quan trọng đối với mọi dự án. Nhằm giúp cho các developer có thể thực hiện test ứng dụng dễ dàng hơn thì ở bản Laravel 5.4 cho ra đời Dusk.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-06-15T02:40:12.000Z">
<meta property="article:modified_time" content="2020-07-27T03:51:00.318Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="PHP">
<meta property="article:tag" content="Laravel">
<meta property="article:tag" content="Dusk">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://yoursite.com/2019/06/15/write-test-in-laravel-with-dusk/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 4.2.1"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="/" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Trần Đình Vĩ</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">FullStack Developer</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Đà Nẵng, Việt Nam</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/PHP">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">Tags</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-repository">
          <a href="https://github.com/trandinhvi39?tab=repositories" target="_blank" rel="noopener">
            
            <i class="icon icon-project"></i>
            
            <span class="menu-title">Repository</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="https://github.com/trandinhvi39" target="_blank" rel="noopener">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">About</span>
          </a>
        </li>
        
      </ul>
      
    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      

    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API-Gateway/" rel="tag">API Gateway</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Configuration/" rel="tag">Configuration</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container/" rel="tag">Container</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dusk/" rel="tag">Dusk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Eager-Loading/" rel="tag">Eager Loading</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EventBus/" rel="tag">EventBus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flux/" rel="tag">Flux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jobs-to-be-Done/" rel="tag">Jobs-to-be-Done</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lambda/" rel="tag">Lambda</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Laravel/" rel="tag">Laravel</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeJS/" rel="tag">NodeJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oauth2/" rel="tag">Oauth2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Procedure/" rel="tag">Procedure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Repository/" rel="tag">Repository</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ruby-on-Rails/" rel="tag">Ruby on Rails</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SNS/" rel="tag">SNS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scale/" rel="tag">Scale</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VueJS/" rel="tag">VueJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vuex/" rel="tag">Vuex</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/08/01/jobs-to-be-done-framework/" class="title">Ứng dụng Jobs-to-be-Done Framework trong phát triển phần mềm</a>
              </p>
              <p class="item-date">
                <time datetime="2020-08-01T04:06:40.000Z" itemprop="datePublished">01-08-2020</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/02/15/node-js-container-docker/" class="title">Node.js in Containers Using Docker</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-15T12:40:18.000Z" itemprop="datePublished">15-02-2020</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/02/11/reside-image-with-aws/" class="title">Resize hình ảnh với Amazon S3, AWS Lambda và Amazon API Gateway</a>
              </p>
              <p class="item-date">
                <time datetime="2020-02-11T09:16:40.000Z" itemprop="datePublished">11-02-2020</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2020/01/05/send-push-notification-sns-aws/" class="title">Send push notifications using Laravel and AWS SNS</a>
              </p>
              <p class="item-date">
                <time datetime="2020-01-05T00:26:16.000Z" itemprop="datePublished">05-01-2020</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2019/11/20/laravel-view-page-counter/" class="title">Laravel Page View Counter</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-20T04:44:16.000Z" itemprop="datePublished">20-11-2019</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-write-test-in-laravel-with-dusk" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      Viết test với Laravel Dusk
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2019/06/15/write-test-in-laravel-with-dusk/" class="article-date">
	  <time datetime="2019-06-15T02:40:12.000Z" itemprop="datePublished">15-06-2019</time>
	</a>
</span>
        
        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/Dusk/" rel="tag">Dusk</a>, <a class="article-tag-link" href="/tags/Laravel/" rel="tag">Laravel</a>, <a class="article-tag-link" href="/tags/PHP/" rel="tag">PHP</a>
  </span>


        

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="1-Mo-dau"><a href="#1-Mo-dau" class="headerlink" title="1. Mở đầu"></a>1. Mở đầu</h2><p>Tất cả chúng ta đều hiểu rằng testing là công việc quan trọng đối với mọi dự án. Nhằm giúp cho các developer có thể thực hiện test ứng dụng dễ dàng hơn thì ở bản Laravel 5.4 cho ra đời Dusk. Ở bài viết hôm nay mình sẽ nói rõ hơn về Dusk để xem nó  giúp được gì cho chúng ta trong việc test ứng dụng Laravel nhé.</p>
<p>Xét về mặt kiến trúc của một ứng dụng thì nhiều ứng dụng Laravel chỉ xữ lý một phần logic ở back-end còn lại các xữ lý logic phụ khác thì các framework của javascript như Angular hoặc Vue xữ lý. Bằng cách này thì ứng dụng sẽ có trải nghiệm người dùng tốt hơn nhưng khi mà ứng dụng bị break thành hai phần như vậy thì chúng ta sẽ gặp khá nhiều khó khăn để viết test.</p>
<p><strong>Laravel 5.4 và Dusk</strong><br>Như các bạn đã biết thì với các  bản trước đó của Laravel, phần testing cung cấp cho chúng ta nhiều method để test HTTP request hoặc test hành vi của trình duyệt như visit một trang, click link, button…Laravel sử dụng thành phần Symfony BrowserKit để mô phỏng một trình duyệt web nhưng nó không phải là một trình duyệt thực sự.</p>
<p>Với Laravel 5.4 điều này đã thay đổi. Mặc định thì ứng dụng sẽ chứa một thư mục Feature và một thư mục Unit. Phần test tính năng sẽ giống như test Application của các bản Laravel trước đó nhưng sẽ không bao gồm browser nữa, vì vậy nếu bạn muốn thực hiện các thao tác như visit một trang, click vào một link… bạn sẽ cần đến Dusk. Tất cả mọi thứ liên quan đến trình duyệt bây giờ sẽ là một phần của Dusk và với Dusk bây giờ chúng ta đã có một trình duyệt thưc sự.</p>
<h2 id="2-Cai-dat"><a href="#2-Cai-dat" class="headerlink" title="2. Cài đặt"></a>2. Cài đặt</h2><p>Vào terminal gõ lệnh sau để cài đặt Dusk:<br><code>composer require laravel/dusk</code></p>
<p>Khi Dusk đã được cài đặt bạn cần đăng ký Laravel\Dusk\DuskServiceProvider service provider. Bạn cần đăng ký provider này trong phương thức register của AppServiceProvider để giới hạn môi trường mà Dusk được sử dụng.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">...</span><br><span class="line">public function register()</span><br><span class="line">&#123;</span><br><span class="line">	if ($this-&gt;app-&gt;environment(&#39;local&#39;, &#39;testing&#39;)) &#123;</span><br><span class="line">		$this-&gt;app-&gt;register(DuskServiceProvider::class);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Bước tiếp theo là run dusk:install.<br><code>php artisan dusk:install</code></p>
<p>Khi chạy xong thì một thư mục Browser sẽ được tạo ra trong thư mục tests.</p>
<p><strong>Chú ý:</strong>  Đừng quên thêm APP_URL của bạn vào file .env vì Dusk sẽ cần nó để duyệt ứng dụng của bạn.</p>
<h2 id="3-Vi-du"><a href="#3-Vi-du" class="headerlink" title="3. Ví dụ"></a>3. Ví dụ</h2><p>Bên trong thư mục tests/Browser/ExampleTest.php</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">...</span><br><span class="line">public function testBasicExample()</span><br><span class="line">&#123;</span><br><span class="line">	$this-&gt;browse(function ($browser) &#123;</span><br><span class="line">		$browser-&gt;visit(&#39;&#x2F;&#39;)</span><br><span class="line">			-&gt;assertSee(&#39;Laravel&#39;);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>File này cũng tương tự như ExampleTest của bản cũ nhưng bây giờ thì nó đang sử dụng ChromeDriver. Chúng ta sử dụng phương thức browse nhận vào một callback, callback này sẽ get được thực thể main browser và sử dụng nó cho việc assertion.<br>Bây giờ chúng a chạy lệnh sau đây để thực hiện việc test.</p>
<p><code>php artisan dusk</code></p>
<p>Thay vì chờ đợi toàn bộ phần giao diện người dùng được nạp, Dusk cho phép bạn waiting một yếu tố hoặc một điều kiện nhất định nào đó.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">...</span><br><span class="line">$this-&gt;browse(function ($browser) &#123;</span><br><span class="line">	$browser-&gt;visit(&#39;&#x2F;&#39;)</span><br><span class="line">		-&gt;waitForText(&#39;Hello Dusk!&#39;)</span><br><span class="line">		-&gt;assertSee(&#39;Hello Dusk!&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>Mặc định nó sẽ waiting tối đa 5 giây cho đoạn test đó. Bạn có thể thay đổi thời gian chờ bằng việc truyền vào một param nữa kiểu như: waitForText(‘hello’, 1).</p>
<p>Ngoài đoạn text thì bạn có thể waiting các thành phần khác kiểu như sau:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// Wait for a selector</span></span><br><span class="line">$browser-&gt;waitFor(<span class="string">'.selector'</span>);</span><br><span class="line">...</span><br><span class="line"><span class="comment">// Wait for a selector to disapear</span></span><br><span class="line">$browser-&gt;waitUntilMissing(<span class="string">'.selector'</span>);</span><br><span class="line">...</span><br><span class="line"><span class="comment">// Wait for a text link</span></span><br><span class="line">$browser-&gt;waitForLink(<span class="string">'Create'</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>Bạn cũng có thể waiting cho đến khi điều kiện của Javascript đúng.Thật vi diệu</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line">$browser-&gt;waitUntil(<span class="string">'appLoaded'</span>);</span><br><span class="line">...</span><br><span class="line">$browser-&gt;waitUntil(<span class="string">'users &gt; 0'</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="4-Thay-doi-doan-text-voi-Javascript"><a href="#4-Thay-doi-doan-text-voi-Javascript" class="headerlink" title="4. Thay đổi đoạn text với Javascript"></a>4. Thay đổi đoạn text với Javascript</h2><p>Đôi lúc bạn cần thay đổi nội dung của đoạn text với Javascript. Hãy làm một ví dụ đơn giản sau nhé. Bạn sẽ thay đổi chữ Laravel quen thuộc trong view welcome mặc định của Laravel bằng chữ Dusk sau 2 giây nhé. Thêm đoạn script này vào view welcome.blade.php và gán id là “title” cho title Laravel nhé.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	setTimeout(function()&#123;</span><br><span class="line">		document.getElementById(&quot;title&quot;).innerHTML &#x3D; &quot;Dusk&quot;;</span><br><span class="line">	&#125;, 2000);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>Bây giờ bạn có thể thêm hai đoạn test sau để kiểm tra nội dung đoạn text lúc ban đầu và sau đó 2 giây nhé.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">...</span><br><span class="line">$this-&gt;browse(function ($browser) &#123;</span><br><span class="line">	$browser-&gt;visit(&#39;&#x2F;&#39;)</span><br><span class="line">		-&gt;assertSee(&#39;Laravel&#39;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$this-&gt;browse(function ($browser) &#123;</span><br><span class="line">	$browser-&gt;visit(&#39;&#x2F;&#39;)</span><br><span class="line">		-&gt;waitForText(&#39;Dusk&#39;)</span><br><span class="line">		-&gt;assertSee(&#39;Dusk&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Ngoài ra chúng ta có thể sử dụng hai trình duyệt để test với Dusk.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">$this</span>-&gt;browse(<span class="function"><span class="keyword">function</span> <span class="params">($first, $second)</span> </span>&#123;</span><br><span class="line">    $first-&gt;loginAs(User::find(<span class="number">1</span>))</span><br><span class="line">            -&gt;visit(<span class="string">'/home'</span>)</span><br><span class="line">            -&gt;waitForText(<span class="string">'Message'</span>);</span><br><span class="line"></span><br><span class="line">    $second-&gt;loginAs(User::find(<span class="number">2</span>))</span><br><span class="line">            -&gt;visit(<span class="string">'/home'</span>)</span><br><span class="line">            -&gt;waitForText(<span class="string">'Message'</span>)</span><br><span class="line">            -&gt;type(<span class="string">'message'</span>, <span class="string">'Hey Taylor'</span>)</span><br><span class="line">            -&gt;press(<span class="string">'Send'</span>);</span><br><span class="line"></span><br><span class="line">    $first-&gt;waitForText(<span class="string">'Hey Taylor'</span>)</span><br><span class="line">           -&gt;assertSee(<span class="string">'Jeffrey Way'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="5-Ket-luan"><a href="#5-Ket-luan" class="headerlink" title="5. Kết luận"></a>5. Kết luận</h2><p>Khi sử dụng Dusk mình chỉ muốn nói rằng nó thực sự rất vi diệu. Hãy cùng trải nghiệm nhé<br><strong>[Tài liệu tham khảo]</strong><br><a href="https://laravel.com/docs/master/dusk" target="_blank" rel="noopener">Official docs</a><br><a href="https://github.com/laravel/dusk" target="_blank" rel="noopener">Github</a></p>

      
    </div>
    <div class="article-footer">
      
    </div>
  </article>
  
    
  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2019/07/17/some-tips-with-git/" title="Một số lệnh giúp làm việc hiệu quả hơn với Git"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2019/01/16/use-elasticsearch-in-laravel/" title="Sử dụng Elasticsearch trong Laravel"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="twitter,facebook" data-mobile-sites=""></div>
    
  </div>
  </div>
</nav>
  



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   






</body>
</html>